 - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.X'
        python-version: '3.11'

    - name: Install dependencies
      run: |
@@ -48,12 +48,24 @@ jobs:
    - name: Insert data
      run: |
        PGPASSWORD=postgres psql -h localhost -U postgres -d exercises -f 02_insert_data.sql        
        PGPASSWORD=postgres psql -h localhost -U postgres -d test_db -f 02_insert_data.sql
    - name: Query data
    - name: Load functions and procedures
      run: |
        PGPASSWORD=postgres psql -h localhost -U postgres -d exercises -f 03_retrieve_everything_from_a_table.sql
        
    - name: Run tests
        PGPASSWORD=postgres psql -h localhost -U postgres -d test_db -f 03_functions_and_procedures.sql
    - name: Load views and indexes
      run: |
        PGPASSWORD=postgres psql -h localhost -U postgres -d test_db -f 04_views_and_indexes.sql
    - name: Load triggers
      run: |
        PGPASSWORD=postgres psql -h localhost -U postgres -d test_db -f 05_triggers.sql
    - name: Run script queries
      run: |
        PGPASSWORD=postgres psql -h localhost -U postgres -d test_db -f script.sql
    - name: Run unit tests
      run: |
        pytest
        pytest -vv
